{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _slicedToArray from \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\src\\\\User.js\";\nimport React, { Component, useRef } from 'react';\nimport { database } from './firebase';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nvar auth = firebase.auth();\n\nfunction SignIn(e) {\n  var _useAuthState = useAuthState(auth),\n      _useAuthState2 = _slicedToArray(_useAuthState, 1),\n      user = _useAuthState2[0];\n\n  var signInWithGoogle = function signInWithGoogle() {\n    var provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: signInWithGoogle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, \"Sign in With Google\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }));\n}\n\nvar User =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(User, _Component);\n\n  function User() {\n    var _this;\n\n    _classCallCheck(this, User);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(User).call(this));\n    _this.state = {\n      users: [],\n      username: ''\n    };\n    return _this;\n  }\n\n  _createClass(User, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var userRef = database.ref('users').orderByKey().limitToLast(100);\n      userRef.once('value', function (snapshot) {\n        var users = [snapshot.val()];\n\n        _this2.setState({\n          users: users\n        });\n      });\n    }\n  }, {\n    key: \"onNameChange\",\n    value: function onNameChange(e) {\n      this.setState({\n        username: e.target.value\n      });\n    }\n  }, {\n    key: \"onAddClick\",\n    value: function onAddClick(e) {\n      e.preventDefault();\n      database.ref('users').push({\n        username: this.state.username\n      });\n      localStorage.setItem('chat_username', this.state.username);\n      this.props.history.push('/chat');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Username: \"), React.createElement(\"input\", {\n        className: \"form-control input-sm\",\n        id: \"inputsm\",\n        type: \"text\",\n        onChange: this.onNameChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-info\",\n        onClick: this.onAddClick.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Add\"), React.createElement(SignIn, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return User;\n}(Component);\n\nexport { User as default };","map":{"version":3,"sources":["C:\\Users\\tarun\\Desktop\\SaketSultania\\Laptop\\MunSoc_Chat_System\\src\\User.js"],"names":["React","Component","useRef","database","firebase","useAuthState","auth","SignIn","e","user","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","User","state","users","username","userRef","ref","orderByKey","limitToLast","once","snapshot","val","setState","target","value","preventDefault","push","localStorage","setItem","props","history","onNameChange","bind","onAddClick"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAO,eAAP;AACA,SAASC,YAAT,QAA6B,2BAA7B;AAEA,IAAMC,IAAI,GAAGF,QAAQ,CAACE,IAAT,EAAb;;AAEA,SAASC,MAAT,CAAgBC,CAAhB,EAAkB;AAAA,sBACCH,YAAY,CAACC,IAAD,CADb;AAAA;AAAA,MACPG,IADO;;AAEd,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC/B,QAAMC,QAAQ,GAAG,IAAIP,QAAQ,CAACE,IAAT,CAAcM,kBAAlB,EAAjB;AACAN,IAAAA,IAAI,CAACO,eAAL,CAAqBF,QAArB;AACD,GAHC;;AAIF,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,OAAO,EAAED,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF;AAMD;;IAEoBI,I;;;;;AACnB,kBAAc;AAAA;;AAAA;;AACZ;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAHY;AAOb;;;;yCAEoB;AAAA;;AACnB,UAAMC,OAAO,GAAGf,QAAQ,CAACgB,GAAT,CAAa,OAAb,EACbC,UADa,GAEbC,WAFa,CAED,GAFC,CAAhB;AAIAH,MAAAA,OAAO,CAACI,IAAR,CAAa,OAAb,EAAsB,UAAAC,QAAQ,EAAI;AAChC,YAAMP,KAAK,GAAG,CAACO,QAAQ,CAACC,GAAT,EAAD,CAAd;;AACA,QAAA,MAAI,CAACC,QAAL,CAAc;AAACT,UAAAA,KAAK,EAAEA;AAAR,SAAd;AACD,OAHD;AAID;;;iCAEYR,C,EAAG;AACd,WAAKiB,QAAL,CAAc;AAACR,QAAAA,QAAQ,EAAET,CAAC,CAACkB,MAAF,CAASC;AAApB,OAAd;AACD;;;+BAEUnB,C,EAAG;AACZA,MAAAA,CAAC,CAACoB,cAAF;AACAzB,MAAAA,QAAQ,CAACgB,GAAT,CAAa,OAAb,EAAsBU,IAAtB,CAA2B;AAACZ,QAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE;AAAtB,OAA3B;AACAa,MAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsC,KAAKhB,KAAL,CAAWE,QAAjD;AACA,WAAKe,KAAL,CAAWC,OAAX,CAAmBJ,IAAnB,CAAwB,OAAxB;AACD;;;6BAEQ;AACP,aACA;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAO,QAAA,SAAS,EAAC,uBAAjB;AAAyC,QAAA,EAAE,EAAC,SAA5C;AAAsD,QAAA,IAAI,EAAC,MAA3D;AAAkE,QAAA,QAAQ,EAAE,KAAKK,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,OAAO,EAAE,KAAKC,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHJ,EAII,oBAAE,MAAF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CADA;AAQD;;;;EAzC+BlC,S;;SAAba,I","sourcesContent":["import React, { Component, useRef } from 'react';\nimport { database } from './firebase';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nconst auth = firebase.auth();\n\nfunction SignIn(e){\n    const [user] = useAuthState(auth);\n    const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n  }\n  return(\n    <div>\n      <button onClick={signInWithGoogle}>Sign in With Google</button>\n      <br/>\n    </div>\n  )\n}\n\nexport default class User extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      users: [],\n      username: ''\n    };\n  }\n\n  componentWillMount() {\n    const userRef = database.ref('users')\n      .orderByKey()\n      .limitToLast(100);\n\n    userRef.once('value', snapshot => {\n      const users = [snapshot.val()];\n      this.setState({users: users});\n    });\n  }\n\n  onNameChange(e) {\n    this.setState({username: e.target.value})\n  }\n\n  onAddClick(e) {\n    e.preventDefault();\n    database.ref('users').push({username: this.state.username});\n    localStorage.setItem('chat_username', this.state.username);\n    this.props.history.push('/chat');\n  }\n\n  render() {\n    return(\n    <div className=\"form-group col-md-4\">\n        <label >Username: </label>\n        <input className=\"form-control input-sm\" id=\"inputsm\" type=\"text\" onChange={this.onNameChange.bind(this)}/>\n        <button className=\"btn btn-info\" onClick={this.onAddClick.bind(this)}>Add</button>\n        < SignIn />\n    </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}