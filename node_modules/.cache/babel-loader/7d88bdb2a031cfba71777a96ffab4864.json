{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\tarun\\\\Desktop\\\\SaketSultania\\\\Laptop\\\\MunSoc_Chat_System\\\\src\\\\User.js\";\nimport React, { Component, useRef } from 'react';\nimport { database } from './firebase';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\n\nvar User =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(User, _Component);\n\n  function User() {\n    var _this;\n\n    _classCallCheck(this, User);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(User).call(this));\n    _this.auth = firebase.auth();\n    _this.state = {\n      users: [],\n      username: ''\n    };\n    return _this;\n  }\n\n  _createClass(User, [{\n    key: \"SignIn\",\n    value: function SignIn(e) {\n      var _this2 = this;\n\n      var signInWithGoogle = function signInWithGoogle() {\n        var provider = new firebase.auth.GoogleAuthProvider();\n        auth.signInWithPopup(provider);\n        database.ref('users').push({\n          username: _this2.state.username\n        });\n        localStorage.setItem('chat_username', _this2.state.username);\n\n        _this2.props.history.push('/chat');\n      };\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: signInWithGoogle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, \"Sign in With Google\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this3 = this;\n\n      var userRef = database.ref('users').orderByKey().limitToLast(100);\n      userRef.once('value', function (snapshot) {\n        var users = [snapshot.val()];\n\n        _this3.setState({\n          users: users\n        });\n      });\n    }\n  }, {\n    key: \"onNameChange\",\n    value: function onNameChange(e) {\n      this.setState({\n        username: e.target.value\n      });\n    }\n  }, {\n    key: \"onAddClick\",\n    value: function onAddClick(e) {\n      e.preventDefault();\n      database.ref('users').push({\n        username: this.state.username\n      });\n      localStorage.setItem('chat_username', this.state.username);\n      this.props.history.push('/chat');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Username: \"), React.createElement(\"input\", {\n        className: \"form-control input-sm\",\n        id: \"inputsm\",\n        type: \"text\",\n        onChange: this.onNameChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-info\",\n        onClick: this.onAddClick.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Add\"), React.createElement(SignIn, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return User;\n}(Component);\n\nexport { User as default };","map":{"version":3,"sources":["C:\\Users\\tarun\\Desktop\\SaketSultania\\Laptop\\MunSoc_Chat_System\\src\\User.js"],"names":["React","Component","useRef","database","firebase","User","auth","state","users","username","e","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","ref","push","localStorage","setItem","props","history","userRef","orderByKey","limitToLast","once","snapshot","val","setState","target","value","preventDefault","onNameChange","bind","onAddClick"],"mappings":"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","sourcesContent":["import React, { Component, useRef } from 'react';\nimport { database } from './firebase';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\n\nexport default class User extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      users: [],\n      username: ''\n    };\n  }\n\n auth = firebase.auth();\n\nSignIn(e){\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n    database.ref('users').push({username: this.state.username});\n    localStorage.setItem('chat_username', this.state.username);\n    this.props.history.push('/chat');\n  }\n  return(\n    <div>\n      <button onClick={signInWithGoogle}>Sign in With Google</button>\n      <br/>\n    </div>\n  )\n}\n\n  componentWillMount() {\n    const userRef = database.ref('users')\n      .orderByKey()\n      .limitToLast(100);\n\n    userRef.once('value', snapshot => {\n      const users = [snapshot.val()];\n      this.setState({users: users});\n    });\n  }\n\n  onNameChange(e) {\n    this.setState({username: e.target.value})\n  }\n\n  onAddClick(e) {\n    e.preventDefault();\n    database.ref('users').push({username: this.state.username});\n    localStorage.setItem('chat_username', this.state.username);\n    this.props.history.push('/chat');\n  }\n\n  render() {\n    return(\n    <div className=\"form-group col-md-4\">\n        <label >Username: </label>\n        <input className=\"form-control input-sm\" id=\"inputsm\" type=\"text\" onChange={this.onNameChange.bind(this)}/>\n        <button className=\"btn btn-info\" onClick={this.onAddClick.bind(this)}>Add</button>\n        <SignIn />\n    </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}